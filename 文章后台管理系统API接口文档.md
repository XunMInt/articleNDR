## 文章后台管理系统文档

### 1.1 API接口说明

------

- 服务端已开启 CORS 跨域支持
- API V1 认证统一使用 Token 认证
- 需要授权的 API ，必须在请求头中使用 `Authorization` 字段提供 `token` 令牌
- 使用 HTTP Status Code 标识状态
- 数据返回格式统一使用 JSON

#### 1.1.1 支持的请求方法

- GET（SELECT）：从服务器取出资源（一项或多项）。
- POST（CREATE）：在服务器新建一个资源。
- PUT（UPDATE）：在服务器更新资源（客户端提供改变后的完整资源）。
- PATCH（UPDATE）：在服务器更新资源（客户端提供改变的属性）。
- DELETE（DELETE）：从服务器删除资源。

#### 1.1.2 通用返回状态说明

| *状态码* | *含义*                | *说明*                               |
| -------- | --------------------- | ------------------------------------ |
| 200      | OK                    | 请求成功                             |
| 201      | CREATED               | 创建成功                             |
| 204      | DELETED               | 删除成功                             |
| 400      | BAD REQUEST           | 请求的地址不存在或者包含不支持的参数 |
| 401      | UNAUTHORIZED          | 未授权                               |
| 403      | FORBIDDEN             | 被禁止访问                           |
| 404      | NOT FOUND             | 请求的资源不存在                     |
| 500      | INTERNAL SERVER ERROR | 内部错误                             |

------



### 1.2 账号操作

------

#### 1.2.1 登录验证接口

- 请求路径：login
- 请求方法：post
- 请求参数

| 参数名   | 参数说明 | 备注     |
| -------- | -------- | -------- |
| username | 用户名   | 不能为空 |
| password | 密码     | 不能为空 |

- 响应参数

| 参数名   | 参数说明 | 备注 |
| -------- | -------- | ---- |
| username | 用户名   |      |
| token    | 令牌     |      |

- 响应数据

```json
{
    "data": {
        "username": "admin",
        "token": "667462cb32a14fa3ff18393948fe358e"
    },
    "meta": {
        "msg": "登录成功",
        "status": 200
    }
}
```

#### 1.2.2 修改用户名

- 请求路径：admin/userChange
- 请求方法：post
- 请求参数

| 参数名      | 参数说明 | 备注     |
| ----------- | -------- | -------- |
| username    | 用户名   | 不能为空 |
| password    | 密码     | 不能为空 |
| newUsername | 新用户名 | 不能为空 |

- 响应参数

| 参数名   | 参数说明 | 备注 |
| -------- | -------- | ---- |
| username | 用户名   |      |

- 响应数据

```json
{
    "data": {
        "username": "admin"
    },
    "meta": {
        "msg": "修改用户名成功",
        "status": 200
    }
}
```

#### 1.2.3 修改密码

- 请求路径：admin/passwordChange
- 请求方法：post
- 请求参数

| 参数名      | 参数说明 | 备注     |
| ----------- | -------- | -------- |
| username    | 用户名   | 不能为空 |
| password    | 密码     | 不能为空 |
| newPassword | 新密码   | 不能为空 |

- 响应参数

| 参数名   | 参数说明 | 备注 |
| -------- | -------- | ---- |
| username | 用户名   |      |

- 响应数据

```json
{
    "data": {
        "username": "admin"
    },
    "meta": {
        "msg": "修改密码成功",
        "status": 200
    }
}
```

------

### 1.3 文章管理

------

#### 1.3.1 添加文章

- 请求路径：admin/article
- 请求方法：post

- 请求参数

| 参数名   | 参数说明 | 备注     |
| -------- | -------- | -------- |
| title    | 标题     | 不能为空 |
| article  | 内容     | 不能为空 |
| classify | 分类     | 不能为空 |

- 响应参数

| 参数名 | 参数说明 | 备注 |
| ------ | -------- | ---- |
| title  | 标题     |      |

- 响应数据

```json
{
    "data": {
        "title": "这是一个测试文章"
    },
    "meta": {
        "msg": "添加文章成功",
        "status": 201
    }
}
```

#### 1.3.2 删除文章

- 请求路径：admin/delArticle
- 请求方法：post

- 请求参数

| 参数名   | 参数说明 | 备注     |
| -------- | -------- | -------- |
| title    | 标题     | 不能为空 |
| classify | 分类     | 不能为空 |

- 响应参数

| 参数名 | 参数说明 | 备注 |
| ------ | -------- | ---- |
| title  | 标题     |      |

- 响应数据

```json
{
    "data": {
        "title": "这是一个测试文章"
    },
    "meta": {
        "msg": "删除文章成功",
        "status": 204
    }
}
```

#### 1.3.3 修改文章

- 请求路径：admin/article
- 请求方法：put

- 请求参数

| 参数名   | 参数说明 | 备注     |
| -------- | -------- | -------- |
| title    | 标题     | 不能为空 |
| article  | 新内容   | 不能为空 |
| classify | 分类     | 不能为空 |

- 响应参数

| 参数名 | 参数说明 | 备注 |
| ------ | -------- | ---- |
| title  | 标题     |      |

- 响应数据

```json
{
    "data": {
        "title": "这是一个测试文章"
    },
    "meta": {
        "msg": "修改文章成功",
        "status": 200
    }
}
```

------

### 1.4分类管理

#### 1.4.1 添加分类

- 请求路径：admin/classify
- 请求方法：post

- 请求参数

| 参数名   | 参数说明 | 备注     |
| -------- | -------- | -------- |
| classify | 分类名   | 不能为空 |

- 响应参数

| 参数名   | 参数说明 | 备注 |
| -------- | -------- | ---- |
| classify | 分类名   |      |

- 响应数据

```json
{
    "data": {
        "classify": "动态新闻"
    },
    "meta": {
        "msg": "添加分类成功",
        "status": 201
    }
}
```

#### 1.4.2 删除分类

- 请求路径：admin/delClassify
- 请求方法：post

- 请求参数

| 参数名   | 参数说明 | 备注     |
| -------- | -------- | -------- |
| classify | 分类名   | 不能为空 |

- 响应参数

| 参数名   | 参数说明 | 备注 |
| -------- | -------- | ---- |
| classify | 分类名   |      |

- 响应数据

```json
{
    "data": {
        "classify": "防疫知识"
    },
    "meta": {
        "msg": "删除分类成功",
        "status": 204
    }
}
```

#### 1.4.3 修改分类

- 请求路径：admin/classify
- 请求方法：put

- 请求参数

| 参数名      | 参数说明 | 备注     |
| ----------- | -------- | -------- |
| classify    | 分类名   | 不能为空 |
| newClassify | 新分类名 | 不能为空 |

- 响应参数

| 参数名   | 参数说明 | 备注 |
| -------- | -------- | ---- |
| classify | 分类名   |      |

- 响应数据

```json
{
    "data": {
        "classify": "防疫知识"
    },
    "meta": {
        "msg": "修改分类成功",
        "status": 200
    }
}
```

------

### 1.5 轮播图管理

------

#### 1.5.1 添加轮播图

- 请求路径：/admin/rotation
- 请求方法：post

- 请求参数

| 参数名   | 参数说明       | 备注     |
| -------- | -------------- | -------- |
| rotation | 轮播图名称     | 不能为空 |
| img      | 轮播图图片连接 | 不能为空 |

- 响应参数

| 参数名   | 参数说明   | 备注 |
| -------- | ---------- | ---- |
| rotation | 轮播图名称 |      |

- 响应数据

```json
{
    "data": {
        "rotation": "测试"
    },
    "meta": {
        "msg": "添加轮播图成功",
        "status": 201
    }
}
```

#### 1.5.2 删除轮播图

- 请求路径：/admin/delRotation
- 请求方法：post

- 请求参数

| 参数名   | 参数说明   | 备注     |
| -------- | ---------- | -------- |
| rotation | 轮播图名称 | 不能为空 |

- 响应参数

| 参数名   | 参数说明   | 备注 |
| -------- | ---------- | ---- |
| rotation | 轮播图名称 |      |

- 响应数据

```json
{
    "data": {
        "rotation": "测试"
    },
    "meta": {
        "msg": "删除轮播图成功",
        "status": 204
    }
}
```

------


